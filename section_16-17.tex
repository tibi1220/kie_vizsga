\documentclass[main.tex]{subfiles}

\begin{document}
  % ----------------------------------------------------------------------------
  % ------------------------------ Section 16 ----------------------------------
  % ----------------------------------------------------------------------------
  \section{Tétel – Az információelmélet alapjai} %16

  \fogalom{Shannon hírközlési modellje}
  A hírközlés során egy üzenetet juttatunk el
  egy tér- és időbeli pontból egy másikba.
  \begin{figure}[H]
    \centering
    \begin{tikzpicture}[scale=.88]
      \draw[thick, fill=yellow!20] (0 ,0) rectangle ++ (3,1)
      node[midway]{\fkod{forrás/adó}};

      \draw[thick, fill=orange!20] (4 ,0) rectangle ++ (3,1)
      node[midway]{\fkod{kódoló}};

      \draw[thick, fill=bgreen!20] (8 ,0) rectangle ++ (3,1)
      node[midway]{\fkod{csatorna}};

      \draw[thick, fill=orange!20] (12,0) rectangle ++ (3,1)
      node[midway]{\fkod{dekódoló}};

      \draw[thick, fill=yellow!20] (16,0) rectangle ++ (3,1)
      node[midway]{\fkod{vevő/nyelő}};

      \draw[thick, ->] (3,.5) -- ++(1,0) node[above, pos=.5] {$b$};
      \draw[thick, ->] (7,.5) -- ++(1,0) node[above, pos=.5] {$c$};
      \draw[thick, ->] (11,.5) -- ++(1,0) node[above, pos=.5] {$y$};
      \draw[thick, ->] (15,.5) -- ++(1,0) node[above, pos=.5] {$z$};

      \begin{scope}[xshift=0cm, yshift=-6.833cm]
        \draw[thick, fill=yellow!10, rounded corners=10]
          (0 ,1) rectangle ++ (10, 5);
        
        \draw[thick, fill=teal!20] (0.5 ,3.5) rectangle ++ (2.5, 2)
          node[midway, text width=2.2cm, align=center]
          {\fkod{tényleges forrás}};
        
        \draw[thick, fill=teal!20] (4.5 ,3.5) rectangle ++ (3.7, 2)
          node[midway, text width=4cm, align=center]
          {\fkod{mintavételezés kvantálás forráskódolás}};

        \draw[thick, ->] (3,4.5) -- ++(1.5,0) node[above, pos=.5] {$a$};
        \draw[thick, ->] (8.2,4.5) -- ++(1.5,0) node[above, pos=.5] {$b$};
        
        \draw node[text width=2.5cm, align=center] at(1.75, 2.25)
          {lehet folytonos jel};

        \draw node[text width=5cm, align=center] at(6.35, 2.25)
          {a forrás jelét diszkrét \\ jellé alakítja, tömöríti};
      \end{scope}

      \begin{scope}[xshift=11cm, yshift=-6.833cm]
        \draw[thick, fill=orange!10, rounded corners=10]
          (0 ,1) rectangle ++ (8, 5)
          node[midway, text width=6cm, align=justify]
          {a \fkod{csatornakódolás} (hibajavító)
          lehetővé teszi a zajos csatornán való biztonságos(abb)
          üzenetátvitelt, a keletkező hibák jelzését és javítását};
      \end{scope}
      
      \begin{scope}[xshift=0cm, yshift=-11.666cm]
        \draw[thick, fill=bgreen!10, rounded corners=10]
          (0 ,0) rectangle ++ (19, 5);

        \draw[thick, fill=teal!20] (2.5 ,3) rectangle ++ (3.5, 1.5)
          node[midway, text width=2.2cm, align=center]
          {\fkod{modulátor}};
        
        \draw[thick, fill=teal!20] (7.75 ,3) rectangle ++ (3.5, 1.5)
          node[midway, text width=4cm, align=center]
          {\fkod{csatorna}};

        \draw[thick, fill=teal!20] (13 ,3) rectangle ++ (3.5, 1.5)
          node[midway, text width=3cm, align=center]
          {\fkod{demodulátor, döntő}};

        \draw[thick, ->] (.5, 3.75) -- ++(2   , 0) node[above, pos=.5] {$c$};
        \draw[thick, ->] (6 , 3.75) -- ++(1.75, 0) node[above, pos=.5] {};
        \draw[thick, ->] (11.25, 3.75) -- ++(1.75, 0) node[above, pos=.5] {$x$};
        \draw[thick, ->] (16.5, 3.75) -- ++(2, 0) node[above, pos=.5] {$y$};
        
        \draw[thick, ->] (9.5, 2) -- ++(0, 1)
          node[above, pos=.5, rotate=90] {zaj}
          node[below, pos=0, yshift=-.15cm]{torzul a jel};

        \draw node[text width=4cm, align=center] at(4.25, 1.5)
          {átalakítja a kódolt üzenetet a csatornán átvihető jellé};

        \draw node[text width=4cm, align=center] at(14.75, 1.5)
          {eldönti, hogy a lehetséges leadott
          jelalakok közül melyiket adhatták};
      \end{scope}

      \begin{scope}[xshift=0cm, yshift=-17.5cm]
        \draw[thick, fill=orange!10, rounded corners=10]
          (0 ,0) rectangle ++ (6, 5)
          node[midway, text width=4cm, align=justify]
          {a \fkod{dekódoló} kijavítja, és / vagy jelzi a vett jelek hibáit.
          Elvégzi a \fkod{csatornakódolás} inverz műveletét.};
      \end{scope}
      
      \begin{scope}[xshift=7cm, yshift=-17.5cm]
        \draw[thick, fill=yellow!10, rounded corners=10]
          (0 ,0) rectangle ++ (12, 5);
        
        \draw[thick, fill=teal!20] (2.5 ,2.5) rectangle ++ (4, 2)
          node[midway, text width=3cm, align=center]
          {\fkod{forráskódolás inverze}};
        
        \draw[thick, fill=teal!20] (8.5 ,3) rectangle ++ (2, 1)
          node[midway, text width=4cm, align=center]
          {\fkod{vevő}};

        \draw[thick, ->] (.5,3.5) -- ++(2,0) node[above, pos=.5] {$z$};
        \draw[thick, ->] (6.5,3.5) -- ++(2,0) node[above, pos=.5] {$a'$};

        \draw node[text width=4cm, align=center] at(4.5, 1.5)
          {a helyreállított üzenetet \fkod{kitömöríti}};

        \draw node[text width=2.5cm, align=center] at(9.5, 1.5)
          {\fkod{értelmezi} az üzenetet};
      \end{scope}
    \end{tikzpicture}
  \end{figure}

  \fogalom{Az információ}
  Az \zkod{információ} valamely véges számú, előre ismert esemény
  közül annak a megnevezése, hogy melyik következett be.
  Értéke azonos azzal a \zkod{bizonytalanság}gal, melyet megszűntet.
  
  \vspace{1em}
  {\large \zkod{Hartley}:}
  \vspace{.5em}
  
  $m$ számú, azonos valúszínűségű esemény közül
  egy megnevezésével nyert információ.
  \begin{equation*}
    I = \log_2(m)
  \end{equation*}

  \vspace{1em}
  {\large \zkod{Shannon}:}
  \vspace{.5em}
  
  Shannon szerint minél váratlanabb az esemény, bekövetkezése
  annál több információt jelent. Legyen
  $A = \left\{ A_1, A_2, \dots, A_m \right\}$,
  $A_i$ esemény valószínűsége $p_i$.
  Az $A_i$ esemény megnevezésével nyert információ ekkor:
  \begin{equation*}
    I \left( A_i \right) = -\log_2 \left( p_i \right)
  \end{equation*}
  
  \fogalom{Az entrópia}
  Az \zkod{entrópia} az információ várható értéke.
  \begin{equation*}
    H(p_1, p_2, \dots, p_m) = 
    \left\langle I(A) \right\rangle =
    \sum_{i=1}^m p_i \cdot I \left( A_i \right) =
    - \sum_{i=1}^m p_i \cdot \log_2(p_i)
  \end{equation*}
  Az entrópia tulajdonképpen annak a kijelentésnek az információtartalma,
  hogy az $m$ db egymást kizáró esemény közül az egyik bekövetkezett.

  \fogalom{Forráskódok}
  \begin{itemize}
    \item a \zkod{forrás} kimenetén véges sok
    elemből álló $A = \left\{ A_1, A_2, \dots, A_m \right\}$ halmaz
    elemei jelenhetnek meg

    \item \zkod{forrásábcé} – maga az $A$ halmaz
    
    \item \zkod{üzenet} – az $A$ elemeiből képzett véges
    $A^{(1)} \; A^{(2)} \; \dots \; A^{(m)}$ sorozatok

    \item $\mathcal{A}$ – a lehetséges üzenetek halmaza
    
    \item a kódolt üzenetek egy
    $B = \left\{ B_1, B_2, \dots, B_s \right\}$
    szintén véges halmaz elemeiből épülnek fel

    \item \zkod{kódábécé} – maga a $B$ halmaz
    
    \item \zkod{kódszavak} – a $B$ elemeiből képzett véges
    $B^{(1)} \; B^{(2)} \; \dots \; B^{(s)}$ sorozatok

    \item $\mathcal{B}$ – a lehetséges kódszavak halmaza
    
    \item az $f: A \rightarrow \mathcal{B}$ illetve
    $F: \mathcal{A} \rightarrow \mathcal{B}$ függvényeket
    \zkod{forráskód}oknak nevezzük. Az $f$ leképezés
    a forrás egy-egy szimbólumához rendel egy-egy szót.
  \end{itemize}
  
  \fogalom{Egyértelműen dekódolható kódok}
  Egy $f$ forráskód \zkod{egyértelműen dekódolható},
  ha minden egyes $B$-beli sorozatot csak egyféle
  $A$-beli sorozatból állít elő, azaz a neki
  megfelelő $F$ invertálható. Nem elég, hogy $f$
  invertálható legyen.
  \begin{itemize}
    \item $! \; A = \left\{a, b, c\right\}$, $B = \left\{ 0, 1\right\}$
    és $f(a) = 0$, $f(b) = 1$, $f(c) = 01$. Ekkor $f$ invertálható,
    de a 01 kódszót dekódolhatjuk $f(a) f(b) = 01$ ezerint $ab$-nek,
    vagy $f(c)=01$ szerint $c$-nek is.
  \end{itemize}
  Az \zkod{állandó kódszóhosszú}
  kódok egyértelműen dekódolhatóak, megfejthetőek,
  de nem elég gazdaságosak.

  \fogalom{Prefix kód}
  Az $f$ kód \zkod{prefix}, ha a lehetséges kódszavak közül
  egyik sem folytatása a másiknak, vagyis bármely kódszó
  végéből bármekkora szegmenst levágva nem kapunk egy másik
  kódszót. Prefix kód \zkod{egyértelműen dekódolható}.
  \begin{itemize}
    \item $! \; A = \left\{a, b, c\right\}$, $B = \left\{ 0, 1\right\}$
    és $f(a) = 0$, $f(b) = 10$, $f(c) = 110$. Ha az $abccab$ üzenetet
    kódoljuk, akkor a $010110110010$ kódsorozatot kapjuk. A kódból
    az üzenet visszafejtése nagyon egyszerű a prefix tulajdonság miatt.

    \item  $! \; A = \left\{a, b, c, d\right\}$, $B = \left\{ 0, 1\right\}$
    és $f(a) = 0$, $f(b) = 01$, $f(c) = 011$, $f(d)=0111$.
    Ez a kód nem prefix, de egyértelműen dekódolható, hiszem a $0$
    karakter egy új kódszó kezdetét jelzi.
  \end{itemize}


  % ----------------------------------------------------------------------------
  % ------------------------------ Section 17 ----------------------------------
  % ----------------------------------------------------------------------------
  \section{Tétel – Az információelmélet alapjai} %16

  \fogalom{Forráskódolás}
  {\large \zkod{Kódszavak átlagos szóhossza}:}
  \vspace{.5em}

  Az olyan $f: A \rightarrow \mathcal{B}$ kódokat,
  melyek különböző $A$-beli szimbólumokhoz más-más
  hosszúságú kódszavakat rendelnek, \zkod{változó}
  szóhosszúságú kódoknak nevezzük.
  $f(A_i) = B^{(1)} \; B^{(2)} \; \dots \; B^{(\ell_i)}$
  $\mathcal{B}$-beli sorozat (kódszó) hossza: ${\ell_i}$.
  Egy $f$ kód \zkod{átlagos szóhossza} $\ell_i$
  \zkod{várható értéke}:
  \begin{equation*}
    L(A) = \sum_{i=1}^n p(A_i) \cdot \ell_i =
    \sum_{i=1}^n p_i \cdot\ell_i
  \end{equation*}

  {\large \zkod{Shannon forráskódolási tétele}:}
  \vspace{.5em}
  
  Minden $A = \left\{ A_1, A_2, \dots , A_n \right\}$
  véges forrásábcéjű forráshoz található olyan $s$ elemű
  kódábécével rendelkező $f: A \rightarrow \mathcal{B}$
  kód, amely az egyes forrásszimbólumokhoz rendre
  $\ell_1, \ell_2, \dots, \ell_n$ szóhosszúságú szavakat
  rendel, és \dots
  \begin{equation*}
    \frac{H(A)}{\log_2(s)}
    \leq L(A)
    < \frac{H(A)}{\log_2(s)} + 1
  \end{equation*}
  Az olyan kódok, melyekre ez teljesül, azok \zkod{optimális kód}ok.
  
  \pagebreak
  {\large \zkod{Forráskódolás}:}
  \vspace{.5em}
  A jól tömöríthető eljárásokra igaz, hogy ha $p_i \geq p_j$,
  akkor $\ell_i \leq \ell_j$. Ha az $f$ \zkod{bináris} kód prefix,
  akkor \dots
  \begin{itemize}
    \item a leggyakoribb forrásábécébeli elemhez
    fog a legrövidebb kódszó tartozni

    \item a második leggyakoribbhoz eggyel hosszabb kódszó
    
    \item \dots
    
    \item a két legritkábban előforduló betűhöz
    pedig azonosan hosszú kódszó fog tartozni,
    és csak az utolsó karakterben fog e két szó különbözni
  \end{itemize}


  \fogalom{Huffman-kód}
  A \zkod{Huffman-kód} a legrövidebb átlagos
  szóhosszú \zkod{bináris prefix} kód.
  \begin{enumerate}
    \item valószínűségek szerint sorba rendez
    
    \item a két legkisebb valószínűséhű szimbólumot
    összevonja. Az összevont szimbólum valószínűsége
    az eredeti két valószínűség összege.

    \item az első 2 lépés ismételgetése
    
    \item a kapott gráf minden csomópontja előtti
    két élt megcímkézi $0$-val és $1$-gyel

    \item a kódfa \zkod{gyöker}étől elindulba megkeresi
    az adott szimbólumhoz tartozó útvonalat, kiolvassa
    az éleknek megfelelő biteket. A kapott bitsorozatot
    rendeli a szimbólumhoz kódszóként.
  \end{enumerate}


  \fogalom{Csatornakódolás}
  $\mathbb{C}^n$ vektortér, $\vb*{c} \in \mathbb{C}^n$
  és $\vb*{v} \in \mathbb{C}^n$ vektorok. A csatorna a rá
  bocsájtott $\vb*{c} = c^{(1)}, c^{(2)}, \dots, c^{(n)}$
  szimbólumsorozatból egy $\vb*{v} = v^{(1)}, v^{(2)},
  \dots, v^{(n)}$ szimbólumsorozatot csinál.

  \fogalom{Hamming-távolság}
  A \zkod{Hamming-távolság} $\vb*{c}$ és $\vb*{v}$
  eltérésének mérésére definiált távolság. Alatta
  azon $i$ pozíciók számát értjük, ahol
  $c^{(i)} \neq v^{(i)}$.
  Jele: $\mathrm{d}\left( \vb*{c}, \vb*{v} \right)$.
  Teljesülnek az alábbiak:
  \begin{equation*}
    \mathrm{d}\left( \vb*{c}, \vb*{v} \right) \geq 0,
    \hspace{3em}
    \mathrm{d}\left( \vb*{c}, \vb*{c} \right) = 0
    \hspace{3em}
    \mathrm{d}\left( \vb*{c}, \vb*{v} \right) =
    \mathrm{d}\left( \vb*{v}, \vb*{c} \right)
    \hspace{3em}
    \mathrm{d}\left( \vb*{c}, \vb*{v} \right) \leq
    \mathrm{d}\left( \vb*{c}, \vb*{w} \right) +
    \mathrm{d}\left( \vb*{w}, \vb*{v} \right) 
  \end{equation*}


  \fogalom{Hibajelzés}
  Az \zkod{egyszerű hibázás} esetén nem tudjuk,
  hogy melyik pozíciókban rontott a csatorna,
  csak azt, hogy hány darab hiba van.
  \zkod{törléses hiba} esetén ismerjük
  a hibázások helyét is, csak azt nem,
  hogy mennyire romlott el azokon a helyeken a jel.

  \vspace{.5em}
  Legyen $K$ a lehetséges kódszavak halmaza. Ekkor
  egy $K$ kód kódtávolsága a kódszavak közötti
  \zkod{Hamming-távolság} minimuma.
  \begin{equation*}
    d_\mathrm{{min}} = \min_{
      \vb*{c} \neq \vb*{c'};\vb*{c}, \vb*{c'} \in K
    } \left\{ \mathrm{d} \left( \vb*{c}, \vb*{c'} \right) \right\}
  \end{equation*}
  \zkod{Hibajelzés} lehetséges, ha a $\vb*{c}$ kódszavunkból
  keletkezett $\vb*{v}$ nem egy másik érvényes kódszó. Ha $\nu$
  a hibák száma, akkor $\nu < d_\mathrm{min}$ hibát lehet mindenképp
  jelezni. Hibajelzés után általában megismétlik az üzenetet.

  \vspace*{1em}
  {\large \zkod{Törléses hiba javítása}:}
  \vspace{.5em}

  Ebben az esetben tudjuk a hibák helyét.
  A $\vb*{v}$ hibásan vett vektort abba a kódszóba javítjuk,
  amelyik a hibás pozícióktól eltekintve azonos $\vb*{v}$-vel.
  Ha több ilyen van, nem tudunk javítani.
  Ha a két legközelebbi kódszóból $d_\mathrm{min}$ komponenst
  a megfelelő helyről törlünk, akkor azonos maradékot kapunk,
  ennél kevesebb elem törlésével sehogy sem kaphatunk azonos
  maradékot. Így $\nu \leq d_\mathrm{min} - 1$ törléses hiba javítható.

  \vspace*{1em}
  {\large \zkod{Törléses hiba javítása}:}
  \vspace{.5em}

  Ebben az esetben nem tudjuk a hibák helyét.
  A $\vb*{v}$ hibás vett vektort abba a $\vb*{c}$
  szóba javítjuk amelyre $\mathrm{d} \left\{
    \vb*{c}, \vb*{v}
  \right\}$ a legkisebb. Ha több ilyen van,
  akkor nem tudunk javítani. A javítóság feltétele:
  \begin{equation*}
    \mathrm{d} \left( \vb*{c}, \vb*{v} \right)
    < \mathrm{d} \left( \vb*{c'}, \vb*{v} \right)
    \hspace*{1.5em} \rightarrow \hspace*{1.5em}
    \nu \leq \frac{d_\mathrm{min} - 1}{2}
  \end{equation*}

  \fogalom{Valszám alapok}
  \begin{itemize}
    \item \zkod{ellentett esemény}
    – kísérlet minden $A$-n kívüli eseménye
    
    \item \zkod{valószínűség}
    – $p(A)$
    
    \item \zkod{szorzat}
    – együttes bekövetkezési valószínűség
    
    \item \zkod{összeg}
    – vagylagos bekövetkezési valószínűség
    
    \item ha $A$ és $B$ \zkod{függetlenek}
    – $p(A \cdot B) = p(A) \cdot p(B)$
    
    \item ha $A$ és $B$ \zkod{függők}
    \tabto{3.8cm} – \tabto{4.4cm} $p(A \cdot B) \leq p(A) \cdot p(B)$ \\[1mm]
    \tabto{3.8cm} – \tabto{4.4cm} $p(A+B) = p(A) + p(B) - P(A \cdot B)$
    
    \item \zkod{feltételes valószínűség}
    \begin{itemize}
      \item $p \left( A|B \right) = \dfrac{P(A \cdot B)}{p(B)}$
      \tabto{4cm} - \tabto{4.6cm}
      Ha $B$ jelet vettünk, akkor annak a valószínűsége,
      \\ \tabto{4.6cm}
      hogy $A$ jel volt a csatorna bemenetén
      \item $p \left( B|A \right) = \dfrac{P(A \cdot B)}{p(A)}$
      \tabto{4cm} - \tabto{4.6cm}
      ha $A$ jelet adok, milyen $B$ kerül a csatorna kimenetére
    \end{itemize}
    
    \item \zkod{várható érték} \hspace{.2em} – \hspace{.2em}
    $\left\langle A \right\rangle
    = \displaystyle \sum_{i=1}^m p_i \cdot A_i$

    \item \zkod{szórás} \hspace{.2em} – \hspace{.2em}
    $D(A) = \displaystyle\sqrt{
      \left\langle \left(
        A - \left\langle A \right\rangle
      \right)^2\right\rangle
    }$

    \item \zkod{korreláció} \hspace{.2em} – \hspace{.2em}
    $R \left(A, B\right) = \dfrac{\left\langle
      (A - \left\langle A \right\rangle)
      \cdot (B - \left\langle B \right\rangle)
    \right\rangle}{
      D(A) \cdot D(B)
    }$

  \end{itemize}
  
\end{document}